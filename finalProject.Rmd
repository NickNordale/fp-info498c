---
title: "finalProject"
author: "Cory S Brown"
date: "2/26/2017"
output: html_document
---

# Introduction 

The purpose of our research project is to help people better understand the impact of the Affordable Care Act (Obamacare) on health insurance for United States citizens and analyze how future health law policy can change health coverage for many. Since Obamacare was signed into law in 2010, millions of people have benefitted that wouldn't otherwise be able to. Many of these people were unemployed or had low paying jobs. Some couldn't afford health insurance due to pre-existing health conditions. Now, more than 16 million Americans have obtained health insurance coverage  which is more than ever before. Given the wider range of health care options, more people can afford healthcare in the United States. With this said, we want to analyze data that allows us to seek insight into how the changes of health law (existing and future) impacts the lives of most Americans. 

This map below introduces the uninsured rates of change by state before and after the ACA was implemented. As you can see, the states with a lighter blue shade have a higher rate of change for the amount of people uninsured between 2010 and 2015. The darker blue states have had the smallest rates of change for uninsured people. It seems that the amount of people uninsured living in the west coast has decreased the most in the country with Oregon, California and Nevada with substantial differences of almost a 10% decrease. The midwestern states including North Dakota, South Dakota, Wyoming and Nebrasksa have had the smallest uninsured rate change at around 2%.
```{r first, warning=FALSE, message=FALSE}
require(knitr)
require(dplyr)
require(ggplot2)
require(maps)
require(ggmap)
data("state.map")

# Read in the data
df <- read.csv(file="data/acaData.csv", header = FALSE, skip = 1, sep = ",", strip.white = TRUE )

# strip percentage sign from values of uninsured rate change column
df$V4 <- (sapply(df$V4, function(x) as.numeric(gsub("%","", x))))

# add region column and convert state names to lowercase
df$region  = tolower(df$V1)

# get state map data and merge with insurance data
states = map_data('state')
mapData = merge(df, states, by = 'region') 

# United States map showing Uninsured rate change by State, 2010-15
ggplot(mapData, aes(x = long, y = lat, group = group)) +
  geom_polygon(aes(fill = cut_number(V4, 8))) +
  geom_path(colour = 'white') + labs(title = "State level change in Insurance Coverage, 2010-15") +
  scale_fill_brewer('Uninsured Rate Change, 2010-15') + coord_map()

```


```{r second, warning=FALSE, message=FALSE}




```